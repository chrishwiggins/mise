#!/bin/bash

# Usage: chrome-profile-open [profile_number] [url]
# Opens Chrome with specified profile (0 or empty = Default, N = Profile N)

# Parse arguments
PROFILE_NUM="${1:-0}"
URL="${2:-about:blank}"

# Determine profile directory
if [[ "$PROFILE_NUM" == "0" ]] || [[ -z "$PROFILE_NUM" ]]; then
    PROFILE_DIRECTORY="Default"
else
    PROFILE_DIRECTORY="Profile ${PROFILE_NUM}"
fi

# Setup logging
LOG_DIR="/tmp/chrome-log"
mkdir -p "$LOG_DIR"

# Launch Chrome in background
exec /Applications/Google\ Chrome.app/Contents/MacOS/Google\ Chrome \
    --profile-directory="$PROFILE_DIRECTORY" \
    "$URL" \
    2>"${LOG_DIR}/$$" &

